namespace: "dev"
env_name: "dev"
imagepullsecrets: ""
dockerhub: ""
repository: "sunbirded.azurecr.io/sunbird-datapipeline"
image_tag: "release-4.9.0_RC4_1"
serviceMonitor:
  enabled: false
replicaCount: 1

jobmanager:
  rpc_port: 6123
  blob_port: 6124
  query_port: 6125
  ui_port: 8081
  prom_port: 9250
  heap_memory: 1024

rest_port: 80
resttcp_port: 8081
service:
  type: LoadBalancer


taskmanager:
  prom_port: 9251
  rpc_port: 6122
  heap_memory: 1024
  replicas: 1
  cpu_requests: 0.3

# Cloud config details
checkpoint_store_type: "azure"
cloud_private_storage_accountname: ""
cloud_private_storage_secret: ""
cloud_storage_flink_bucketname: flink-state-backend

kafka_host: kafka.dev.svc.cluster.local
zookeeper_host: kafka-zookeeper.dev.svc.cluster.local
cassandra_host: cassandra.dev.svc.cluster.local
redis_host: redis-master.dev.svc.cluster.local
postgres_host: postgres.dev.svc.cluster.local
postgres_user: postgres
postgres_password: postgres


log4j_console_properties: |
  # This affects logging for both user code and Flink
  rootLogger.level = INFO
  rootLogger.appenderRef.console.ref = ConsoleAppender

  # Uncomment this if you want to _only_ change Flink's logging
  #logger.flink.name = org.apache.flink
  #logger.flink.level = INFO

  # The following lines keep the log level of common libraries/connectors on
  # log level INFO. The root logger does not override this. You have to manually
  # change the log levels here.
  logger.akka.name = akka
  logger.akka.level = ERROR
  logger.kafka.name= org.apache.kafka
  logger.kafka.level = ERROR
  logger.hadoop.name = org.apache.hadoop
  logger.hadoop.level = ERROR
  logger.zookeeper.name = org.apache.zookeeper
  logger.zookeeper.level = ERROR

  # Log all infos to the console
  appender.console.name = ConsoleAppender
  appender.console.type = CONSOLE
  appender.console.layout.type = PatternLayout
  appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %-60c %x - %m%n

  # Suppress the irrelevant (wrong) warnings from the Netty channel handler
  logger.netty.name = org.apache.flink.shaded.akka.org.jboss.netty.channel.DefaultChannelPipeline
  logger.netty.level = OFF


flink_conf: |+
    jobmanager.memory.flink.size: 1024m
    taskmanager.memory.flink.size: 1024m
    taskmanager.numberOfTaskSlots: 1
    parallelism.default: 1
    jobmanager.execution.failover-strategy: region
    taskmanager.memory.network.fraction: 0.1
    scheduler-mode: reactive
    heartbeat.timeout: 8000
    heartbeat.interval: 5000
    taskmanager.memory.process.size: 1700m
    jobmanager.memory.process.size: 1600m

## classname
druid-validator:
  job_classname: org.sunbird.dp.validator.task.DruidValidatorStreamTask
pipeline-preprocessor:
  job_classname: org.sunbird.dp.preprocessor.task.PipelinePreprocessorStreamTask
telemetry-extractor:
  job_classname: org.sunbird.dp.extractor.task.TelemetryExtractorStreamTask
